<div *ngIf="isLoading" class="loading-indicator">
  <div class="spinner"></div>
  <span>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</span>
</div>

<div *ngIf="!isLoading">
  <div *ngIf="assignment">
    <h2>{{ assignment.title }}</h2>
    <p>{{ assignment.description }}</p>
    <p>–°—Ä–æ–∫ —Å–¥–∞—á–∏: {{ assignment.dueDate | date:'dd.MM.yyyy' }}</p>

    <section class="files-section">
      <h3>–ú–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</h3>
      <ul class="file-list">
        <li *ngFor="let m of manuals">
          <a [href]="m.downloadUrl" target="_blank" class="file-link">
            üìÑ {{ m.fileName }}
          </a>
        </li>
      </ul>
    </section>

    <section *ngIf="role === 'ROLE_STUDENT'" class="student-section">
      <div class="upload-box">
        <h3>–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ</h3>
        <input type="file" (change)="onStudentFileSelected($event)" class="file-input">
        <button
          (click)="uploadStudent()"
          [disabled]="!studentFile"
          class="upload-button"
        >
          {{ studentFile ? '–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª' : '–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª' }}
        </button>
      </div>

      <div *ngIf="studentSubmissions.length" class="submissions">
        <h4>–í–∞—à–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–¥–∞—á–∏:</h4>
        <ul class="submission-list">
          <li *ngFor="let s of studentSubmissions" class="submission-item">
            <a (click)="openPdf(s.downloadUrl, s.fileName)" class="file-link">
              üì§ {{ s.fileName }}
            </a>

          </li>
        </ul>
      </div>
    </section>
  </div>

  <div *ngIf="!assignment" class="no-data">
    –ó–∞–¥–∞–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
  </div>
</div>
